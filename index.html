<!DOCTYPE html>
<html lang="en" dir="ltr">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>MyNextHome - Finding your next home</title>
    <!-- SEO Meta Tags -->
    <meta name="description" content="MyNextHome is an open-source property search platform in Uganda that empowers users with access to comfortable housing through transparent property discovery tools.">
    <meta name="keywords" content="Real Estate, Property Search, Open Source, Housing Platform, GeoDjango, MyNextHome, Real Estate in Uganda, Housing in Uganda, Find home, Rentals, Property Listings, House Finder">
    <meta name="author" content="Arcticline Technologies">

    <!-- Favicons -->
    <link rel="icon" type="image/x-icon" href="./static/img/mynexthome.png">
    <link rel="apple-touch-icon" href="./static/img/mynexthome.png">

    <!-- Open Graph Meta Tags -->
    <meta property="og:title" content="MyNextHome - Free Property Search for Everyone">
    <meta property="og:description" content="Find your next home free, fair and transparent with MyNextHome Finder">
    <meta property="og:image" content="./static/img/og_image.png">
    <meta property="og:url" content="https://mynexthome.daraza.net">
    <meta property="og:type" content="website">

    <!-- Twitter Card Tags -->
    <meta name="twitter:card" content="summary_large_image">
    <meta name="twitter:title" content="MyNextHome - Free Property Search for Everyone">
    <meta name="twitter:description" content="Find your next home free, fair and transparent with MyNextHome Finder">
    <meta name="twitter:image" content="./static/img/og_image.png">
    
    <link href="https://cdn.jsdelivr.net/npm/tailwindcss@2.2.19/dist/tailwind.min.css" rel="stylesheet">
    <script src="https://unpkg.com/lucide@latest/dist/umd/lucide.js"></script>
    <script src="https://cdn.emailjs.com/dist/email.min.js"></script>
    <style>
        /* Custom Styling */
        .icon {
            width: 24px;
            height: 24px;
        }

        /* Loading Screen Styling */
        #loading-indicator {
            background-color: rgba(255, 255, 255, 0.8);
            padding: 1rem;
            border-radius: 8px;
            /* display: flex; */
            align-items: center;
            justify-content: center;
            gap: 0.5rem;
        }

        .show {
            display: flex;
        }

        #alert-message {
            display: none;
            padding: 0.75rem;
            margin-top: 1rem;
            margin-bottom: 1rem;
            border-radius: 0.375rem;
        }

        #alert-message.success {
            background-color: #d1fae5;
            color: #065f46;
        }

        #alert-message.error {
            background-color: #fee2e2;
            color: #991b1b;
        }
    </style>

    <!-- Structured Data -->
    <script type="application/ld+json">
        {
            "@context": "http://schema.org",
            "@type": "WebApplication",
            "name": "MyNextHome",
            "applicationCategory": "Productivity, Real Estate",
            "operatingSystem": "Web",
            "description": "MyNextHome is an open-source property search platform in Uganda that empowers users with access to comfortable housing through transparent property discovery tools.",
            "url": "{{ request.build_absolute_uri }}"
        }
        </script>
</head>

<body class="min-h-screen bg-gray-50">
    <!-- Hero Section -->
    <header class="bg-gradient-to-r from-green-700 to-green-900 text-white">
        <div class="container mx-auto px-6 py-24">
            <div class="flex flex-col items-center text-center">
                <h1 class="text-5xl font-bold mb-6">MyNextHome</h1>
                <img src="./static/img/mynexthome.png" alt="MyNextHome" style="max-width: 200px; max-height: 200px;">
                <p class="text-xl mb-8 max-w-2xl">
                    A property search for everyone. Access to comfortable housing is everyone's right, no one should capitalize on that!
                    <!-- Empowering everyone with a fair and transparent property search platform—because access to comfortable housing is a right, not a privilege. -->
                </p>
                <div class="flex gap-4">
                    <a href='#' id='view-homes-btn'
                        class='bg-white text-blue-800 px-6 py-2 rounded-lg font-semibold hover:bg-blue-50 transition-colors'>View
                        Homes</a>
                    <!-- Modal -->
                    <div id='modal'
                        class='hidden fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center'>
                        <div class='bg-white p-6 rounded-lg shadow-lg text-center'>
                            <h2 class='text-2xl font-bold mb-4'>Under Construction</h2>
                            <p class='text-gray-600 mb-4'>This feature is currently under development. Stay tuned!</p>
                            <button id='close-modal'
                                class='bg-blue-400 text-white px-4 py-2 rounded-lg hover:bg-blue-500'>Close</button>
                        </div>
                    </div>
                    <a href='https://github.com/arcticline-platform/MyNextHome'
                        class='border-2 border-white px-6 py-2 rounded-lg font-semibold hover:bg-white hover:text-blue-800 transition-colors flex items-center gap-2'
                        target="_blank"><svg class='icon' data-lucide='github'></svg>GitHub</a>
                </div>
            </div>
        </div>
    </header>

    <!-- Features Grid -->
    <section class="py-20 px-6">
        <div class="container mx-auto">
            <h2 class="text-3xl font-bold text-center mb-16 text-gray-800">Key Features</h2>
            <div class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-8">
                <div class="bg-white p-6 rounded-xl shadow-md hover:shadow-lg transition-shadow">
                    <div class="text-green-600 mb-4">
                        <svg class="icon" data-lucide="home"></svg>
                    </div>
                    <h3 class="text-xl font-semibold mb-3 text-gray-800">Property Listings</h3>
                    <p class="text-gray-600">Comprehensive platform for listing and browsing properties with detailed
                        information and high-quality images.</p>
                </div>
                <div class="bg-white p-6 rounded-xl shadow-md hover:shadow-lg transition-shadow">
                    <div class="text-green-600 mb-4">
                        <svg class="icon" data-lucide="map"></svg>
                    </div>
                    <h3 class="text-xl font-semibold mb-3 text-gray-800">Geolocation Support</h3>
                    <p class="text-gray-600">Advanced spatial search powered by GeoDjango and PostGIS for accurate
                        location-based property discovery.</p>
                </div>
                <div class="bg-white p-6 rounded-xl shadow-md hover:shadow-lg transition-shadow">
                    <div class="text-green-600 mb-4">
                        <svg class="icon" data-lucide="search"></svg>
                    </div>
                    <h3 class="text-xl font-semibold mb-3 text-gray-800">Advanced Search Filters</h3>
                    <p class="text-gray-600">Fine-tune your property search with filters for price, location, property
                        type, and amenities.</p>
                </div>
                <div class="bg-white p-6 rounded-xl shadow-md hover:shadow-lg transition-shadow">
                    <div class="text-green-600 mb-4">
                        <svg class="icon" data-lucide="bell"></svg>
                    </div>
                    <h3 class="text-xl font-semibold mb-3 text-gray-800">Real-time Notifications</h3>
                    <p class="text-gray-600">Stay updated with instant alerts for new listings matching your criteria.
                    </p>
                </div>
                <div class="bg-white p-6 rounded-xl shadow-md hover:shadow-lg transition-shadow">
                    <div class="text-green-600 mb-4">
                        <svg class="icon" data-lucide="bar-chart2"></svg>
                    </div>
                    <h3 class="text-xl font-semibold mb-3 text-gray-800">Analytics Dashboard</h3>
                    <p class="text-gray-600">Data-driven insights into property trends, demand patterns, and market
                        analysis.</p>
                </div>
                <div class="bg-white p-6 rounded-xl shadow-md hover:shadow-lg transition-shadow">
                    <div class="text-green-600 mb-4">
                        <svg class="icon" data-lucide="users"></svg>
                    </div>
                    <h3 class="text-xl font-semibold mb-3 text-gray-800">User Authentication</h3>
                    <p class="text-gray-600">Secure and seamless user experience with robust authentication system.</p>
                </div>
            </div>
        </div>
    </section>

    <!-- Technology Stack -->
    <section class="bg-white py-20 px-6">
        <div class="container mx-auto">
            <h2 class="text-3xl font-bold text-center mb-16 text-gray-800">Technology Stack</h2>
            <div class="grid grid-cols-2 md:grid-cols-4 gap-8">
                <div class="text-center">
                    <div class="bg-green-50 rounded-full w-20 h-20 mx-auto mb-4 flex items-center justify-center">
                        <span class="text-2xl font-bold text-green-600">D</span>
                    </div>
                    <h3 class="font-semibold text-gray-800 mb-1">Django</h3>
                    <p class="text-gray-600 text-sm">Web Framework</p>
                </div>
                <div class="text-center">
                    <div class="bg-green-50 rounded-full w-20 h-20 mx-auto mb-4 flex items-center justify-center">
                        <span class="text-2xl font-bold text-green-600">G</span>
                    </div>
                    <h3 class="font-semibold text-gray-800 mb-1">GeoDjango</h3>
                    <p class="text-gray-600 text-sm">Geographic Framework</p>
                </div>
                <div class="text-center">
                    <div class="bg-green-50 rounded-full w-20 h-20 mx-auto mb-4 flex items-center justify-center">
                        <span class="text-2xl font-bold text-green-600">P</span>
                    </div>
                    <h3 class="font-semibold text-gray-800 mb-1">PostgreSQL</h3>
                    <p class="text-gray-600 text-sm">Database</p>
                </div>
                <div class="text-center">
                    <div class="bg-green-50 rounded-full w-20 h-20 mx-auto mb-4 flex items-center justify-center">
                        <span class="text-2xl font-bold text-green-600">P</span>
                    </div>
                    <h3 class="font-semibold text-gray-800 mb-1">PostGIS</h3>
                    <p class="text-gray-600 text-sm">Spatial Database Extension</p>
                </div>
            </div>
        </div>
    </section>

    <!-- Call to Action -->
    <section class="bg-green-900 text-white py-20 px-6">
        <div class="container mx-auto text-center">
            <h2 class="text-3xl font-bold mb-6">Ready to Get Started?</h2>
            <p class="mb-8 max-w-2xl mx-auto">
                Join our growing community of developers and real estate professionals.
                Contribute to the future of property search technology.
            </p>
            <div class="flex gap-4 justify-center">
                <a href='https://github.com/arcticline-platform/MyNextHome/blob/main/Readme.Md'
                    class='bg-white text-blue-900 px-8 py-3 rounded-lg font-semibold hover:bg-blue-50 transition-colors'>Documentation</a>
                <a href='https://github.com/arcticline-platform/MyNextHome'
                    class='border-2 border-white px-8 py-3 rounded-lg font-semibold hover:bg-white hover:text-blue-900 transition-colors'>GitHub
                    Repository</a>
            </div>
        </div>
    </section>

    <section class="bg-white py-20 px-6">
        <div class="container mx-auto text-center">
            <h2 class="text-3xl font-bold mb-6">Support this Project</h2>
            <p class="mb-8 max-w-2xl mx-auto">
                Your contributions help us maintain and improve the platform for everyone. Every little bit counts!
            </p>
            <div class="flex flex-col items-center text-center">
                <button id="contribute-button" 
                    class="bg-yellow-500 text-white px-6 py-2 rounded-lg font-semibold hover:bg-yellow-600 transition-colors flex items-center gap-2">
                    <svg id="Layer_1" data-name="Layer 1" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 96.59 122.88" width="30" height="30"><defs><style>.cls-1{fill-rule:evenodd;}</style></defs><title>coffee</title><path class="cls-1" d="M42.65,7.68A26.83,26.83,0,0,1,46.83,0a43.57,43.57,0,0,0-1.44,10.6C45.54,17.07,48.57,20.05,53,28c6.4,11.52,3.3,22.66-5.21,31.85C50.85,49.59,52.29,43,50,35.47a34,34,0,0,0-2.74-6.22c-2.86-5.21-6-9.51-5.69-15.8a20.81,20.81,0,0,1,1.13-5.77ZM10.89,54.6a2.43,2.43,0,0,1,.54-1.06c1.57-2.46,5.24-4.54,10.36-6A73.09,73.09,0,0,1,36.34,45,26.9,26.9,0,0,1,36,49.35a65.37,65.37,0,0,0-12.66,2.24c-4.17,1.22-7,2.63-7.69,4l-.15.92c.28,1.52,3.22,3.1,7.84,4.45a82.84,82.84,0,0,0,22.28,2.68A82.89,82.89,0,0,0,67.85,61c4.63-1.35,7.58-2.94,7.85-4.46l-.09-.74c-.56-1.44-3.42-2.91-7.76-4.18a60.51,60.51,0,0,0-7.74-1.65,28,28,0,0,0,1.2-4.18,63.87,63.87,0,0,1,8,1.74c5.48,1.61,9.31,3.87,10.67,6.56a2.41,2.41,0,0,1,.33.83,4.7,4.7,0,0,1,.22,1.39c0,.12,0,.23,0,.34.18,1.71.3,3.39.38,5,5-1.58,8.79-1,11.46.93a10.42,10.42,0,0,1,4.14,7.65,17.1,17.1,0,0,1-1.86,9.27c-3.09,6.2-9.92,11.7-20.42,11.72-.37.66-.76,1.3-1.16,1.92a44.38,44.38,0,0,1,11.74,4.64c3.94,2.42,6.17,5.35,6.17,8.64,0,5-5.46,9.35-14.29,12.22-8,2.62-19.06,4.24-31.2,4.24s-23.19-1.62-31.21-4.24C5.46,115.77,0,111.46,0,106.42c0-3.29,2.23-6.22,6.17-8.64a44.62,44.62,0,0,1,12.06-4.72,53,53,0,0,1-7.1-17.67A50.69,50.69,0,0,1,10,65.22a55.22,55.22,0,0,1,.58-8.75v-.19a4.89,4.89,0,0,1,.31-1.68Zm4,7.55c0,1-.07,2-.06,3a47.1,47.1,0,0,0,1,9.22c2.76,12.66,8.86,21.3,16.2,26a25,25,0,0,0,27.63-.13c7.2-4.69,13.11-13.28,15.65-25.76a47.39,47.39,0,0,0,.88-8.81v-.35a1.22,1.22,0,0,1,0-.27c0-.91,0-1.84-.06-2.78a29.17,29.17,0,0,1-6.79,2.82A88.4,88.4,0,0,1,45.57,68a88.53,88.53,0,0,1-23.78-2.9,28.94,28.94,0,0,1-6.93-2.91ZM81,66.74A49.81,49.81,0,0,1,80,75.41a57.12,57.12,0,0,1-3.33,10.88c7-.75,11.53-4.62,13.68-8.93a12.39,12.39,0,0,0,1.38-6.66,5.7,5.7,0,0,0-2.14-4.2c-1.73-1.23-4.58-1.4-8.64.24ZM70,97.33a35.47,35.47,0,0,1-7.74,6.91,29.83,29.83,0,0,1-32.82.16,35.43,35.43,0,0,1-8.12-7.15,43.56,43.56,0,0,0-12.65,4.64c-2.46,1.51-3.85,3.06-3.85,4.53,0,2.71,4.18,5.44,11,7.64,7.56,2.47,18.07,4,29.72,4s22.15-1.52,29.71-4c6.77-2.2,11-4.93,11-7.64,0-1.47-1.39-3-3.85-4.53A42.93,42.93,0,0,0,70,97.33Zm-32-82.06c-1.06,7-.13,9.16,2.17,12.45,2.55,3.64,4.7,6.48,5.33,10.05.88,5-1.41,10.36-4.45,14.22,4.76-23.42-13.36-17.91-3.05-36.72Z"/></svg>
                    Buy Us Coffee
                </button>
            </div>
        </div>
    </section>

    <!-- Contribution Modal -->
    <div id="contribution-modal" class="fixed inset-0 bg-black bg-opacity-50 hidden flex items-center justify-center">
        <div class="bg-white p-8 rounded-lg shadow-lg w-full max-w-md">
            <h2 class="text-2xl font-bold mb-4 text-center">Support MyNextHome</h2>
            <p class="text-gray-600 mb-4">Enter your details to contribute and help us grow.</p>
            <div id="loading-indicator" class="hidden mb-4">
                <svg class="animate-spin h-5 w-5 text-blue-600" xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24">
                    <circle class="opacity-25" cx="12" cy="12" r="10" stroke="currentColor" stroke-width="4"></circle>
                    <path class="opacity-75" fill="currentColor" d="M4 12a8 8 0 018-8v4l3-3-3-3v4a8 8 0 010 16v-4l-3 3 3 3v-4a8 8 0 01-8-8z"></path>
                </svg>
                <span>Processing your payment...</span>
            </div>
            <form id="payment-form">
                <div class="mb-4">
                    <label for="name" class="block text-sm font-semibold mb-2">Name</label>
                    <input type="text" id="name" name="name" class="w-full p-2 border rounded" placeholder="Enter Your Name" required>
                </div>
                <div class="mb-4">
                    <label for="phone" class="block text-sm font-semibold mb-2">Phone Number</label>
                    <input type="tel" id="phone" name="phone" class="w-full p-2 border rounded" placeholder="+256700000000 (MTN only)" required>
                </div>
                <div class="mb-4">
                    <label for="amount" class="block text-sm font-semibold mb-2">Amount (UGX)</label>
                    <input type="number" id="amount" name="amount" class="w-full p-2 border rounded" placeholder="5000" min="3000" step="500" required>
                </div>
                <div id="alert-message"></div>
                <div class="flex justify-center gap-4 items-center text-center">
                    <button type="button" id="cancel-button" class="bg-gray-300 text-white px-4 py-2 rounded hover:bg-gray-600">Cancel</button>
                    <button type="submit" class="bg-yellow-400 text-white px-4 py-2 rounded hover:bg-yellow-500">Pay Now</button>
                </div>
            </form>
        </div>
    </div>

    <!-- Loading Screen -->
    <div id="loading-screen" class="hidden flex">Processing your payment...</div>

    <!-- Footer -->
    <footer class="bg-gray-800 text-gray-300 py-12 px-6">
        <div class="container mx-auto">
            <div class="flex flex-col md:flex-row justify-between items-center">
                <div class="mb-6 md:mb-0">
                    <h2 class="text-2xl font-bold text-white mb-2">MyNextHome</h2>
                    <p class="text-sm">Open-source real estate platform</p>
                </div>
                <div class="flex gap-6">
                    <a href="https://github.com/arcticline-platform/MyNextHome/blob/main/Readme.Md"
                        class="hover:text-white transition-colors">Documentation</a>
                    <a href="https://github.com/arcticline-platform/MyNextHome"
                        class="hover:text-white transition-colors">GitHub</a>
                    <a href="https://github.com/arcticline-platform/MyNextHome/discussions"
                        class="hover:text-white transition-colors">Community</a>
                </div>
            </div>
        </div>
    </footer>
    <script>
        // // Disable right-click context menu
        // document.addEventListener('contextmenu', (e) => e.preventDefault());

        // // Disable keyboard shortcuts
        // document.addEventListener('keydown', (e) => {
        //     // Prevent F12, Ctrl+Shift+I, Cmd+Option+I
        //     if (
        //         e.key === 'F12' ||
        //         (e.ctrlKey && e.shiftKey && e.key === 'I') ||
        //         (e.metaKey && e.altKey && e.key === 'i')
        //     ) {
        //         e.preventDefault();
        //     }

        //     // Prevent Ctrl+U, Cmd+U (view source)
        //     if ((e.ctrlKey || e.metaKey) && e.key === 'u') {
        //         e.preventDefault();
        //     }
        // });

        // // Prevent text selection
        // document.addEventListener('selectstart', (e) => e.preventDefault());

        // // Clear console on open
        // console.clear();
        // setInterval(console.clear, 1000);

        // // Disable developer tools detection
        // function detectDevTools() {
        //     const threshold = 160;
        //     const widthThreshold = window.outerWidth - window.innerWidth > threshold;
        //     const heightThreshold = window.outerHeight - window.innerHeight > threshold;

        //     if (widthThreshold || heightThreshold) {
        //         document.body.innerHTML = '<h1>Developer Tools detected. Please close them to continue.</h1>';
        //     }
        // }

        // window.addEventListener('resize', detectDevTools);
        // setInterval(detectDevTools, 1000);
    </script>

    <script>
        // Daraza API Key
        const API_KEY = "Fva98ee5.W5z77QlGDstcnUFLP2xKcauQJwLTNOHG";

        // Initialize EmailJS
        emailjs.init("YOUR_EMAILJS_USER_ID");
        
        // Modal Handling
        document.getElementById('view-homes-btn').addEventListener('click', function (e) {
            e.preventDefault();
            document.getElementById('modal').classList.remove('hidden');
        });

        document.getElementById('close-modal').addEventListener('click', function () {
            document.getElementById('modal').classList.add('hidden');
        });

        // Show the contribution modal
        document.getElementById('contribute-button').addEventListener('click', () => {
            document.getElementById('contribution-modal').classList.remove('hidden');
        });

        // Close the contribution modal
        document.getElementById('cancel-button').addEventListener('click', () => {
            document.getElementById('contribution-modal').classList.add('hidden');
        });

        // Handle the payment form submission
        document.getElementById('payment-form').addEventListener('submit', async (event) => {
            event.preventDefault();

            const name = document.getElementById('name').value;
            const phone = document.getElementById('phone').value;
            const amount = document.getElementById('amount').value;
            const alertMessage = document.getElementById('alert-message');

            // Form data validation
            if (!name || !phone || !amount || amount < 3000) {
                document.getElementById('loading-indicator').classList.add('show');
                alertMessage.classList.add('error');
                alertMessage.classList.remove('hidden');
                alertMessage.textContent = "Please enter valid information and ensure the amount is at least 3000 UGX.";
                return;
            }

            const requestBody = {
                method: 1,
                amount: amount,
                phone: phone,
                note: `Contribution from ${name}`
            };

            // Show loading indicator within the modal
            document.getElementById('loading-indicator').classList.add('show');
            alertMessage.style.display = 'none';

            try {
                const response = await fetch("https://daraza.net/api/request_to_pay/", {
                    method: "POST",
                    headers: {
                        "Authorization": `Api-Key ${API_KEY}`,
                        "Content-Type": "application/json",
                    },
                    body: JSON.stringify(requestBody)
                });

                const result = await response.json();
                document.getElementById('loading-indicator').classList.remove('show');
                console.log("Result: ", result);
                if (response.ok) {
                    if (result.code === "Success") {
                        alertMessage.textContent = `✅ ${result.response_details}. Thank you for your support!`;
                        alertMessage.className = "success";
                        alertMessage.style.display = 'block';

                        // Extract payment details
                        const { method, amount, phone, note } = result.data;

                        // Send email with payment details
                        const emailParams = {
                            name: name,
                            phone: phone,
                            amount: amount,
                            note: note || `Contribution from ${name}`
                        };

                        emailjs.send("YOUR_SERVICE_ID", "YOUR_TEMPLATE_ID", emailParams)
                            .then(() => {
                                console.log("✅ Email sent successfully.");
                            }).catch((error) => {
                                console.error("❌ Email sending failed:", error);
                            });

                        // setTimeout(() => {
                        //     document.getElementById('contribution-modal').classList.add('hidden');
                        // }, 10000);
                    } else if (result.code === "Error") {
                        alertMessage.textContent = `⚠️ Payment failed: ${result.message}`;
                        alertMessage.className = "error";
                        alertMessage.style.display = 'block';
                    }
                } else {
                    alertMessage.textContent = `❌ Payment failed: ${result.message || "Unknown error"}`;
                    alertMessage.className = "error";
                    alertMessage.style.display = 'block';
                }
            } catch (error) {
                document.getElementById('loading-indicator').classList.remove('show');
                alertMessage.textContent = "❌ An error occurred while processing your request.";
                alertMessage.className = "error";
                alertMessage.style.display = 'block';
                console.error("Error:", error);
            }
        });

        // Initialize Lucide icons
        lucide.createIcons();
    </script>
</body>

</html>